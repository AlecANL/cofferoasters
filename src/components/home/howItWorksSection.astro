---
import type {Section} from "../../models/index.interface";
import HowItWorksCard from "./howItWorksCard.astro";
interface Props {
  section: Section
}

const { section } = Astro.props
---

<section>
  <h3> {section.name} </h3>
  <div class="rule">
    <div class="rule__line"></div>
    <div class="rule__line-circle c1"></div>
    <div class="rule__line-circle c2"></div>
    <div class="rule__line-circle c3"></div>
  </div>
  <div class="items">
    {
      section.items.map((item, idx) => (
        <HowItWorksCard item={item} idx={idx} />
      ))
    }
  </div>
  <button>Create your plan</button>
</section>

<style>
  h3 {
    margin-bottom: 83px;
    color: var(--grey);
    font-size: 1.5rem;
    text-align: center;
    
    @media (min-width: 680px)  {
      text-align: start;
    }
  }
  
  section {
    max-inline-size: 1045px;
    margin: 4rem auto;
  }
  
.items {
  display: flex;
  flex-direction: column;
  gap: 56px;
  
  @media (min-width: 680px) {
    margin-top: 67px;
    flex-direction: row;
    gap: 32px;
  }

  @media (min-width: 768px) {
    gap: 95px;
  }
}

.rule {
  position: relative;
  display: none;
  
  .rule__line {
    display: block;
    position: absolute;
    top: 50%;
    left: 15px;
    transform: translateY(-50%);
    inline-size: 100%;
    block-size: 1px;
    background-color: var(--pale-orange);
  }
  
  .rule__line-circle {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    inline-size: 31px;
    block-size: 31px;
    border-radius: 50%;
    border: 2px solid var(--dark-cyan);
    background-color: #fff;
  }
    
    .rule__line-circle.c1{
      left: -3px;
    }
    
    .rule__line-circle.c2 {
      left: 50%;
      transform: translate(-50%, -50%);
    }
    
    .rule__line-circle.c3 {
      right: -15px;
    }
    
    @media (min-width: 680px) {
      display: block;
      max-width: 75%;
      inline-size: 100%;
      height: 50px;
    }
  }

  button {
    margin-top: 64px;
  }
</style>
